# 訪問日表示ツール

Google マップのタイムラインを使って、特定の場所(勤務地、実家など)への訪問日を確認できる Web アプリケーションです。

## 概要

このアプリケーションは、Google マップのタイムラインからエクスポートした位置情報履歴(location-history.json)を解析し、指定した場所への訪問日を月別に整理して表示します。勤務地や実家など、定期的に訪れる場所への訪問履歴を簡単に確認することができます。

## 使用方法

1. Google マップのタイムラインから位置情報履歴をエクスポートします
   1. [Google タイムライン](https://timeline.google.com)にアクセス
   2. 画面右下の歯車アイコン(⚙️)をクリック
   3. 「タイムラインのデータをエクスポート」を選択
   4. エクスポート期間を選択
      - 「すべてのタイムライン履歴」または特定の期間を選択可能
   5. 「次へ」をクリック
   6. エクスポート形式で「JSON」を選択
      - KML や CSV も選択可能ですが、このアプリケーションでは JSON のみ対応しています
   7. 「エクスポートを作成」をクリック
   8. エクスポートの準備ができたら、ダウンロードリンクが表示されます
   9. ダウンロードした ZIP ファイルを解凍し、中の「location-history.json」を取り出します
2. 訪問履歴を表示したい場所の座標を入力
   - `(35.6581, 139.7017)` のような括弧付き形式
   - `35.6581,139.7017` のようなカンマ区切り形式
     のどちらの形式でも入力可能です
3. エクスポートした JSON ファイル(location-history.json)をアプリケーションにアップロード
4. 指定された場所への訪問日が月別に表示されます

## 表示内容

- 訪問履歴は月別にグループ化されて表示
- 各月のセクションには以下の情報が含まれます:
  - 年月(例:2023 年 12 月)
  - 訪問日の一覧(曜日付き)
- 訪問履歴は以下の順序で表示:
  - 月は新しい順(降順)
  - 各月内の日付は古い順(昇順)

## 技術的な詳細

### 位置の判定

- 中心座標と範囲を指定することで、特定の場所への訪問履歴を表示できます
- デフォルトの判定範囲:中心座標から約 200 メートル以内
  - 緯度経度で約 ±0.002 度の範囲

### 入力ファイル(location-history.json)の形式

```json
[
  {
    "startTime": "開始時刻(ISO 8601形式)",
    "endTime": "終了時刻(ISO 8601形式)",
    "timelinePath": [
      {
        "point": "geo:緯度,経度",
        "durationMinutesOffsetFromStartTime": "経過時間(分)"
      }
    ]
  }
]
```

### ブラウザの要件

- モダンな Web ブラウザ(Chrome, Firefox, Safari, Edge 等)
- JavaScript 有効化が必要
- ローカルファイルの読み込みに対応したブラウザ設定

## プライバシーについて

- このアプリケーションはブラウザ上で動作し、アップロードされたデータはサーバーに送信されません
- 位置情報の処理はすべてユーザーのブラウザ内で行われます
